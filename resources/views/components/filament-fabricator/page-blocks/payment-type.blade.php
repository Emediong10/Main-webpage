@aware(['page'])

@props(['url_prefix', 'title', 'sub_title','payment_type'])
<section id="content">
    <div class="content-wrap py-0" style="overflow: visible">

        <svg viewBox="0 0 1382 58" width="100%" height="60" preserveAspectRatio="none"
            style="position: absolute; top: -58px; left:0; z-index: 1">
            <path style="fill:#FFF;" d="M1.52.62s802.13,127,1380,0v56H.51Z" />
        </svg>

        <div class="container">

            <div class="slider-feature w-100">
                <div class="row justify-content-center">
                    <div class="col-md-3 px-1">
                        <a href="demo-nonprofit-about.html"
                            class="card center border-start-0 border-end-0 border-top-0 border-bottom border-bottom shadow py-3 rounded-0 fw-semibold text-uppercase ls1">
                            <div class="card-body">
                                <i class="icon-line-align-center"></i>View Our Mission
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 px-1">
                        <a href="demo-nonprofit-causes.html"
                            class="card center border-start-0 border-end-0 border-top-0 border-bottom border-bottom shadow py-3 rounded-0 fw-semibold text-uppercase ls1">
                            <div class="card-body">
                                <i class="icon-line-umbrella"></i>Top Founders
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 px-1">
                        <a href="demo-nonprofit-contact.html"
                            class="card center border-start-0 border-end-0 border-top-0 border-bottom border-bottom shadow py-3 rounded-0 fw-semibold text-uppercase ls1">
                            <div class="card-body">
                                <i class="icon-line-mail"></i>Request a Quote
                            </div>
                        </a>
                    </div>
                </div>
            </div>

        </div>

        <div class="section mt-3"
            style="background: #FFF url('assets/images/servicescape-incorporated-_48JSlVLX6g-unsplash.jpeg') no-repeat 100% 50% / auto 100%;">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-7 center">
                        <div class="heading-block border-bottom-0 mb-4">
                            <h2 class="mb-4 nott">Unconditional Help</h2>
                        </div>
                        <div class="svg-line bottommargin-sm">
                            <img src="demos/nonprofit/images/divider-1.svg" alt="svg divider" height="20">
                        </div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolores, quasi, dolorum blanditiis
                            eius laboriosam, quidem temporibus, dolor quod voluptatum perferendis ullam. Odio sequi at
                            dolore consequatur ad, odit expedita tenetur.</p>
                    </div>
                </div>

                <div class="row mt-5 col-mb-50 mb-0">
                    <div class="col-md-3">
                        <div class="feature-box flex-column mx-0">
                            <div class="fbox-media position-relative">
                                <img src="demos/nonprofit/images/icons/donate.svg" alt="Featured Icon" width="60"
                                    class="mb-3">
                            </div>
                            <div class="fbox-content px-0">
                                <h3 class="nott ls0"><a href="#" class="text-dark">Give Donation.</a></h3>
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illum, dolore, voluptates!
                                </p>
                                <a href="#"
                                    class="button button-rounded button-border nott ls0 fw-normal ms-0 mt-4">Donate
                                    Now</a>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="feature-box flex-column mx-0">
                            <div class="fbox-media position-relative">
                                <img src="demos/nonprofit/images/icons/volunteer.svg" alt="Featured Icon" width="60"
                                    class="mb-3">
                            </div>
                            <div class="fbox-content px-0">
                                <h3 class="nott ls0"><a href="#" class="text-dark">Become a Volunteer.</a></h3>
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam, provident.</p>
                                <a href="#"
                                    class="button button-rounded button-border nott ls0 fw-normal ms-0 mt-4">Join
                                    Now</a>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="feature-box flex-column mx-0">
                            <div class="fbox-media position-relative">
                                <img src="demos/nonprofit/images/icons/help-child.svg" alt="#" width="60"
                                    class="mb-3">
                            </div>
                            <div class="fbox-content px-0">
                                <h3 class="nott ls0"><a href="#" class="text-dark">Help the Children.</a></h3>
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Commodi, ipsa!</p>
                                <a href="#"
                                    class="button button-rounded button-border nott ls0 fw-normal ms-0 mt-4">Help
                                    Now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="w-100 position-relative">
                <div class="donor-img d-flex align-items-center rounded parallax mx-auto shadow-sm w-100"
                    data-bottom-top="background-position:0px 0px;" data-top-bottom="background-position:0px -50px;"
                    style="height: 500px; background: url('assets/images/cody-lannom-G95AReIh_Ko-unsplash.jpeg') no-repeat center center / cover">
                </div>
                <div class="card bg-white border-0 center py-sm-4 px-sm-5 p-2 shadow-sm"
                    style="position: absolute; top: 50%; right: 80px; transform: translateY(-50%);">
                    <div class="card-body">
                        <div class="color h1 mb-3"><i class="icon-heart"></i></div>
                        <small class="text-uppercase fw-normal ls2 text-muted mb-3 d-block">Our Top Donor</small>
                        <h3 class="display-3 fw-bold mb-3 font-secondary">$2.4M</h3>
                        <p class="text-uppercase fw-medium text-muted">:Raised</p>
                        <a href="demo-nonprofit-causes-single.html" class="button-svg">View More</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="section bg-transparent mt-0 mb-4">
            <div class="container clearfix">
                <div class="row justify-content-center" style="margin-top: 100px">
                    <div class="col-md-7 center">
                        <div class="heading-block border-bottom-0 mb-4">
                            <h2 class="mb-4 nott">{{ $title }}</h2>
                        </div>
                        {{-- <div class="svg-line bottommargin-sm clearfix">
                            <img src="demos/nonprofit/images/divider-1.svg" alt="svg divider" height="20">
                        </div> --}}
                        <p>{{ $sub_title }}</p>
                    </div>
                </div>
            </div>

            <div class="owl-carousel owl-carousel-full image-carousel carousel-widget topmargin-sm charity-card"
            data-stage-padding="20"
            data-margin="10"
            data-center="true"
            data-loop="true"
            data-nav="true"
            data-autoplay="50000"
            data-speed="400"
            data-pagi="true"
            data-items-xs="1"
            data-items-sm="2"
            data-items-md="2"
            data-items-lg="2"
            data-items-xl="2">

           @foreach ($payment_type as $item)
               @php
                   $progressPercentage = $item->target_amount > 0 ? ($item->amount_paid / $item->target_amount) * 100 : 0;
               @endphp

               <div class="oc-item text-start">
                   <!-- Image -->
                   {{-- <img src="{{ asset('storage/' . $item->image) }}"
                        alt="{{ $item->title ?? 'Payment Type Image' }}"
                        
                        style="border-radius: 10px !important;"> --}}

                        <a href="">
                            <x-curator-glider width="1000" height="500"
                               class="rounded"
                                :media="$item['image_id']"
                                style="border-radius: 10px !important;"/>
                        </a>

                   <!-- Content -->
                   <div class="oc-desc d-flex flex-column justify-content-center shadow-lg p-4"
                        style="box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1) !important;">

                       <!-- Category -->
                       <small class="text-uppercase fw-normal ls1 color mb-2 d-block"
                              style="color: #555 !important;">
                           {{ $item->payment_category->name ?? 'Category Name' }}
                       </small>

                       <!-- Title -->
                       <h3 class="mb-3">
                           <a href="{{ $url_prefix }}/{{ $item->slug }}" style="text-decoration: none !important; color: #000 !important;">
                               {{ $item->title }}
                           </a>
                       </h3>

                       <h6>Target Amount: ₦{{ number_format($item->target_amount) }}</h6>

                       <!-- Progress Bar -->
                       {{-- <ul class="skills mb-3">
                           <li data-percent="{{ $progressPercentage }}">
                            <div class="progress" style="background: #f1f1f1 !important; border-radius: 10px !important; height: 20px !important; position: relative !important;">
                                <div class="progress-percent"
                                     style="width: {{ $progressPercentage }}% !important; background-color: #4caf50 !important; height: 100% !important; border-radius: 10px !important;">
                                </div>
                                <div class="counter counter-inherit"
                                     style="position: absolute !important; left: 50% !important; transform: translateX(-50%) !important; color: white !important; font-weight: bold !important; line-height: 20px !important;">
                                    ₦<span data-from="0"
                                           data-to="{{ $item->amount_paid }}"
                                           data-refresh-interval="10"
                                           data-speed="1100"
                                           data-comma="true"></span> Donated of ₦{{ number_format($item->target_amount) }}
                                </div>
                            </div>
                           </li>
                       </ul> --}}

                       <div class="card bg-color-light rounded-0 my-4">
                        <div class="card-body py-4 px-5">
                            <div class="d-flex justify-content-between">
                                <div class="counter counter-inherit d-flex justify-content-between">
                                    <strong class="me-1 ls0">Donated:</strong>₦<span data-from="0" data-to="{{ $item->amount_paid }}" data-refresh-interval="10" data-speed="1100" data-comma="true"></span>
                                </div>
                                <span><strong>Target:</strong>₦{{ number_format($item->target_amount) }}</span>
                            </div>
                            <ul class="skills pt-3 mb-2">
                                <li data-percent="{{ $progressPercentage }}">
                                    <div class="progress">
                                        <div class="progress-percent">
                                            <div class="counter counter-inherit counter-instant"><span data-from="0" data-to="" data-refresh-interval="30" data-speed="100"></span></div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                   
                    <div class="entry-content mt-0">
                       <!-- Description -->
                       <p class="mb-4 text-black-50">{!! Illuminate\Support\Str::markdown(\Illuminate\Support\Str::limit($item->content, 150, '...')) !!}<a href="{{ $url_prefix }}/{{ $item->slug }}">Read more</a></p> 
                    </div>
                       <!-- Donate Button -->
                       <a href="{{ route('getform', ['description' => $item->title]) }}"
                          class="button button-rounded button-border nott ls0 fw-medium m-0 d-flex align-self-start"
                          style="border-color: #4caf50 !important; color: #4caf50 !important;">
                          Donate Now
                       </a>
                   </div>
               </div>
           @endforeach

       </div>

            </div>

         




        </div>

        <script>
            jQuery(document).ready(function($) {
                var elementParent = $('.floating-contact-wrap');
                $('.floating-contact-btn, .btn-contact').off('click').on('click', function(e) {
                    elementParent.toggleClass('active', );
                    e.preventDefault(e);
                });
            });

            var cal = $('#calendar').calendario({
                    onDayClick: function($el, $contentEl, dateProperties) {

                        for (var key in dateProperties) {
                            console.log(key + ' = ' + dateProperties[key]);
                        }

                    },
                    caldata: canvasEvents
                }),
                $month = $('#calendar-month').html(cal.getMonthName()),
                $year = $('#calendar-year').html(cal.getYear());

            $('#calendar-next').on('click', function() {
                cal.gotoNextMonth(updateMonthYear);
            });
            $('#calendar-prev').on('click', function() {
                cal.gotoPreviousMonth(updateMonthYear);
            });
            $('#calendar-current').on('click', function() {
                cal.gotoNow(updateMonthYear);
            });

            function updateMonthYear() {
                $month.html(cal.getMonthName());
                $year.html(cal.getYear());
            };
        </script>
</section><!-- #content end -->
